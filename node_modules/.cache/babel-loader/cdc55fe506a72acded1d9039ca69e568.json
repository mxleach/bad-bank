{"ast":null,"code":"import _slicedToArray from\"/Users/maxleach/Documents/GitHub/bad-bank/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./app.css';import React,{useContext,useState}from'react';import{Card,UserContext}from'./context';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Deposit(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),deposit=_useState4[0],setDeposit=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),status=_useState6[0],setStatus=_useState6[1];var ctx=useContext(UserContext);var lastUser=ctx.users.length-1;var balance=parseInt(ctx.users[lastUser].balance);function validate(field,label){if(isNaN(deposit)||deposit===\" \"){setStatus('Error: '+label);setTimeout(function(){return setStatus('');},3000);return false;}if(deposit<0){setStatus('Error: Negative number');setTimeout(function(){return setStatus('');},3000);return false;}return true;}function makeDeposit(){if(!validate(deposit,'Number Required'))return;var newAmount=balance+parseInt(deposit);var newMoney=\"\".concat(ctx.users[lastUser].name,\" deposited: \").concat(deposit);setShow(false);return ctx.users[lastUser].balance=newAmount,ctx.submissions.push(newMoney);}function clearForm(){setDeposit(0);setShow(true);console.log(ctx);}return/*#__PURE__*/_jsx(\"div\",{id:\"depositBack\",children:/*#__PURE__*/_jsx(\"div\",{className:\"depositCard\",children:/*#__PURE__*/_jsx(Card,{backgroundColor:\"success\",header:\"Deposit Funds\",status:status,body:show?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"Hello \",ctx.users[lastUser].name,\",\"]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Account Balance = $ \",ctx.users[lastUser].balance]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form-control\",id:\"deposit\",placeholder:\"Enter Amount\",value:deposit,onChange:function onChange(e){return setDeposit(e.currentTarget.value);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light\",disabled:deposit===0||deposit===''?true:false,onClick:makeDeposit,children:\"Deposit Amount\"}),\" \",/*#__PURE__*/_jsx(\"br\",{})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h6\",{children:[\"New Balance = $ \",balance]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Transaction successful!\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light\",onClick:clearForm,children:\"Deposit More...\"}),\" \",/*#__PURE__*/_jsx(\"br\",{})]})})})});}export default Deposit;","map":{"version":3,"names":["React","useContext","useState","Card","UserContext","Deposit","show","setShow","deposit","setDeposit","status","setStatus","ctx","lastUser","users","length","balance","parseInt","validate","field","label","isNaN","setTimeout","makeDeposit","newAmount","newMoney","name","submissions","push","clearForm","console","log","e","currentTarget","value"],"sources":["/Users/maxleach/Documents/GitHub/bad-bank/src/deposit.js"],"sourcesContent":["import './app.css';\nimport React, {useContext, useState} from 'react';\nimport {Card, UserContext} from './context';\n\nfunction Deposit(){\n    const [show, setShow] = useState(true);\n    const [deposit, setDeposit] = useState('');\n    const [status, setStatus] = useState('');\n  \n    const ctx = useContext(UserContext);\n   \n    let lastUser = ctx.users.length -1;\n    let balance = parseInt(ctx.users[lastUser].balance);\n  \n    function validate(field, label){\n      if (isNaN(deposit) || deposit === \" \") {\n        setStatus('Error: ' + label);\n        setTimeout(() => setStatus(''),3000);\n        return false;\n      }     if (deposit < 0) {\n        setStatus('Error: Negative number');\n        setTimeout(() => setStatus(''),3000);\n        return false;\n      }\n      return true;\n  }\n  \n    function makeDeposit () {\n      if (!validate(deposit, 'Number Required'))     \n      return;\n\n      let newAmount = balance + parseInt(deposit);\n      let newMoney = `${ctx.users[lastUser].name} deposited: ${deposit}`\n      setShow(false)\n      return ( ctx.users[lastUser].balance = newAmount, ctx.submissions.push(newMoney)\n      )\n    }\n  \n    function clearForm(){\n      setDeposit(0);\n      setShow(true);\n      console.log(ctx)\n    }\n  \n    return (\n      <div id=\"depositBack\">\n        <div className=\"depositCard\"> \n          <Card\n          backgroundColor=\"success\"\n          header=\"Deposit Funds\"\n          status={status}\n          body= {show ? (\n            <>\n            <h5>Hello {ctx.users[lastUser].name},</h5>\n            <h6>Account Balance = $ {ctx.users[lastUser].balance}</h6><br/>\n            <input type=\"input\" className=\"form-control\" id=\"deposit\" placeholder=\"Enter Amount\" value={deposit} onChange={e => setDeposit(e.currentTarget.value)} /> <br/>\n            \n            <button type=\"submit\" className=\"btn btn-light\" disabled={deposit === 0 || deposit === ''? true : false} onClick={makeDeposit}>Deposit Amount</button> <br/>\n            </> ) : (<> \n            <h6>New Balance = $ {balance}</h6> <br/>\n            <p>Transaction successful!</p>\n            <button type=\"submit\" className=\"btn btn-light\"  onClick={clearForm}>Deposit More...</button> <br/>\n            </>\n            )\n          }\n          />\n        </div>\n      </div>\n      )\n  }\n\n  export default Deposit;"],"mappings":"+HAAA,MAAO,WAAW,CAClB,MAAOA,MAAK,EAAGC,UAAU,CAAEC,QAAQ,KAAO,OAAO,CACjD,OAAQC,IAAI,CAAEC,WAAW,KAAO,WAAW,CAAC,6IAE5C,QAASC,QAAO,EAAE,CACd,cAAwBH,QAAQ,CAAC,IAAI,CAAC,wCAA/BI,IAAI,eAAEC,OAAO,eACpB,eAA8BL,QAAQ,CAAC,EAAE,CAAC,yCAAnCM,OAAO,eAAEC,UAAU,eAC1B,eAA4BP,QAAQ,CAAC,EAAE,CAAC,yCAAjCQ,MAAM,eAAEC,SAAS,eAExB,GAAMC,IAAG,CAAGX,UAAU,CAACG,WAAW,CAAC,CAEnC,GAAIS,SAAQ,CAAGD,GAAG,CAACE,KAAK,CAACC,MAAM,CAAE,CAAC,CAClC,GAAIC,QAAO,CAAGC,QAAQ,CAACL,GAAG,CAACE,KAAK,CAACD,QAAQ,CAAC,CAACG,OAAO,CAAC,CAEnD,QAASE,SAAQ,CAACC,KAAK,CAAEC,KAAK,CAAC,CAC7B,GAAIC,KAAK,CAACb,OAAO,CAAC,EAAIA,OAAO,GAAK,GAAG,CAAE,CACrCG,SAAS,CAAC,SAAS,CAAGS,KAAK,CAAC,CAC5BE,UAAU,CAAC,iBAAMX,UAAS,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,CACpC,MAAO,MAAK,CACd,CAAM,GAAIH,OAAO,CAAG,CAAC,CAAE,CACrBG,SAAS,CAAC,wBAAwB,CAAC,CACnCW,UAAU,CAAC,iBAAMX,UAAS,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,CACpC,MAAO,MAAK,CACd,CACA,MAAO,KAAI,CACf,CAEE,QAASY,YAAW,EAAI,CACtB,GAAI,CAACL,QAAQ,CAACV,OAAO,CAAE,iBAAiB,CAAC,CACzC,OAEA,GAAIgB,UAAS,CAAGR,OAAO,CAAGC,QAAQ,CAACT,OAAO,CAAC,CAC3C,GAAIiB,SAAQ,WAAMb,GAAG,CAACE,KAAK,CAACD,QAAQ,CAAC,CAACa,IAAI,wBAAelB,OAAO,CAAE,CAClED,OAAO,CAAC,KAAK,CAAC,CACd,MAASK,IAAG,CAACE,KAAK,CAACD,QAAQ,CAAC,CAACG,OAAO,CAAGQ,SAAS,CAAEZ,GAAG,CAACe,WAAW,CAACC,IAAI,CAACH,QAAQ,CAAC,CAElF,CAEA,QAASI,UAAS,EAAE,CAClBpB,UAAU,CAAC,CAAC,CAAC,CACbF,OAAO,CAAC,IAAI,CAAC,CACbuB,OAAO,CAACC,GAAG,CAACnB,GAAG,CAAC,CAClB,CAEA,mBACE,YAAK,EAAE,CAAC,aAAa,uBACnB,YAAK,SAAS,CAAC,aAAa,uBAC1B,KAAC,IAAI,EACL,eAAe,CAAC,SAAS,CACzB,MAAM,CAAC,eAAe,CACtB,MAAM,CAAEF,MAAO,CACf,IAAI,CAAGJ,IAAI,cACT,wCACA,+BAAWM,GAAG,CAACE,KAAK,CAACD,QAAQ,CAAC,CAACa,IAAI,OAAO,cAC1C,6CAAyBd,GAAG,CAACE,KAAK,CAACD,QAAQ,CAAC,CAACG,OAAO,GAAM,2BAAK,cAC/D,cAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,cAAc,CAAC,EAAE,CAAC,SAAS,CAAC,WAAW,CAAC,cAAc,CAAC,KAAK,CAAER,OAAQ,CAAC,QAAQ,CAAE,kBAAAwB,CAAC,QAAIvB,WAAU,CAACuB,CAAC,CAACC,aAAa,CAACC,KAAK,CAAC,EAAC,EAAG,kBAAC,aAAK,cAE/J,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,eAAe,CAAC,QAAQ,CAAE1B,OAAO,GAAK,CAAC,EAAIA,OAAO,GAAK,EAAE,CAAE,IAAI,CAAG,KAAM,CAAC,OAAO,CAAEe,WAAY,4BAAwB,kBAAC,aAAK,GACzJ,cAAM,wCACT,yCAAqBP,OAAO,GAAM,kBAAC,aAAK,cACxC,8CAA8B,cAC9B,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,eAAe,CAAE,OAAO,CAAEa,SAAU,6BAAyB,kBAAC,aAAK,GAGpG,EACC,EACE,EACF,CAEV,CAEA,cAAexB,QAAO"},"metadata":{},"sourceType":"module"}